<!doctype html>
<html lang="en">
<head>
    <meta charset="utf-8"/>
    <title>Nyan Cat AR</title>
    <meta name="viewport" content="width=device-width, initial-scale=1"/>

    <!-- A-Frame (version that works well with AR.js NFT) -->
    <script src="https://aframe.io/releases/1.2.0/aframe.min.js"></script>

    <!-- AR.js NFT build (IMPORTANT: -nft version) -->
    <script src="https://cdn.jsdelivr.net/gh/AR-js-org/AR.js@3.4.5/aframe/build/aframe-ar-nft.js"></script>

    <style>
        body { margin:0; overflow:hidden; }
        #debugStatus{
            position:fixed;
            bottom:10px;
            left:10px;
            background:red;
            color:white;
            padding:8px 12px;
            font-size:14px;
            z-index:999;
            font-family:system-ui,-apple-system,BlinkMacSystemFont,"Segoe UI",sans-serif;
        }
    </style>
</head>
<body>
<div id="debugStatus">❌ Marker NOT detected</div>

<a-scene
        embedded
        vr-mode-ui="enabled: false"
        renderer="colorManagement: true; physicallyCorrectLights: true"
        arjs="sourceType: webcam; trackingMethod: best; debugUIEnabled: false">

    <a-nft
            id="marker"
            type="nft"
            url="./nyan-marker/nyan">

        <a-plane
                rotation="-90 0 0"
                width="1"
                height="1"
                material="src: url(./nyan.png); transparent: true; opacity: 1">
        </a-plane>

    </a-nft>

    <a-entity camera></a-entity>
</a-scene>

<script>
    const marker = document.getElementById('marker');
    const dbg = document.getElementById('debugStatus');

    marker.addEventListener('markerFound', () => {
        dbg.style.background = 'green';
        dbg.textContent = '✅ Marker detected!';
    });

    marker.addEventListener('markerLost', () => {
        dbg.style.background = 'red';
        dbg.textContent = '❌ Marker NOT detected';
    });
</script>
</body>
</html>
